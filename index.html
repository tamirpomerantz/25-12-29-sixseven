<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>משחק התשבץ העברי - משחק מרובה משתתפים</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=David+Libre:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/style.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/ui-lightness/jquery-ui.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- jQuery and jQuery UI (required for drag-and-drop functionality) - Load before main.js -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-ui-touch-punch@0.2.3/jquery.ui.touch-punch.min.js"></script>
</head>
<body>
    <!-- Login Screen (shown initially) -->
    <div id="loginScreen" class="screen hidden"></div>
    
    <!-- Game List Screen -->
    <div id="gameListScreen" class="screen hidden bg-white min-h-screen">
        <div class="container mx-auto px-4 py-6 max-w-2xl">
            <!-- Header Row -->
            <div class="flex items-center justify-between mb-6">
                <h1 class="text-lg font-bold text-gray-800">V0.1 בונוס</h1>
                <div class="flex gap-3 items-center">
                    <button id="newGameBtn" class="px-4 py-2 bg-[#58b4a9] text-white rounded-lg font-bold text-sm flex items-center gap-2 hover:bg-[#4a9d93] transition-colors">
                        <span class="text-lg">+</span>
                        <span>משחק חדש</span>
                    </button>
                    <div class="relative">
                        <button id="userNameBtn" class="px-4 py-2 bg-[#e0e0e0] rounded-lg text-gray-800 font-bold text-sm">
                            <span id="userDisplayName">משתמש</span>
                        </button>
                        <!-- Dropdown Menu -->
                        <div id="userMenu" class="hidden absolute left-0 mt-2 w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-10">
                            <button id="logoutBtn" class="w-full text-right px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-lg text-sm">
                                התנתק
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Game List -->
            <div id="gameListContainer" class="space-y-3">
                <div class="text-center text-gray-500 py-8">טוען משחקים...</div>
            </div>
        </div>
    </div>
    
    <!-- New Game / Invitation Screen -->
    <div id="newGameScreen" class="screen hidden">
        <div class="container">
            <div class="header">
                <h2>יצירת משחק חדש</h2>
                <button id="backToGamesBtn" class="back-btn">חזרה</button>
            </div>
            <div class="invite-form">
                <label for="inviteEmail">הזן כתובת אימייל של היריב:</label>
                <input type="email" id="inviteEmail" placeholder="example@email.com" />
                <button id="sendInviteBtn" class="send-invite-btn">שלח הזמנה</button>
            </div>
        </div>
    </div>
    
    <!-- Game Access Denied Screen -->
    <div id="gameAccessDeniedScreen" class="screen hidden bg-white min-h-screen">
        <div class="container mx-auto px-4 py-6 max-w-2xl">
            <div class="flex flex-col items-center justify-center min-h-[60vh] text-center">
                <div class="bg-gray-50 rounded-lg p-8 shadow-md max-w-md w-full">
                    <div class="text-6xl mb-4">🔒</div>
                    <h1 class="text-2xl font-bold text-gray-800 mb-4">אין לך גישה למשחק הזה</h1>
                    <p class="text-gray-600 mb-6">
                        המשחק הזה לא שייך לך או שכבר לא קיים. 
                        אתה יכול לחזור למסך הראשי או להתחיל משחק חדש.
                    </p>
                    <div class="flex flex-col gap-3">
                        <button id="goToHomeFromDeniedBtn" class="px-6 py-3 bg-[#58b4a9] text-white rounded-lg font-bold text-sm hover:bg-[#4a9d93] transition-colors">
                            חזרה למסך הראשי
                        </button>
                        <button id="createNewGameFromDeniedBtn" class="px-6 py-3 bg-blue-500 text-white rounded-lg font-bold text-sm hover:bg-blue-600 transition-colors">
                            התחל משחק חדש
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Game Screen -->
    <div id="gameScreen" class="screen hidden bg-white min-h-screen">
        <div class="container mx-auto px-4 py-6 max-w-4xl">
            <!-- Header - All in one row -->

            
            <!-- Game Board Container -->
            <div class="flex justify-center mb-6">
                <div id="gameBoard" class="game-board-10x10">
                    <!-- 10x10 grid will be generated by JavaScript -->
                </div>
            </div>
            
            <!-- Player Letters (only shown when it's player's turn) -->
            <div id="letterStockContainer" class="hidden mb-6">
                <div class="letter-stock" id="letterStock">
                    <!-- Current player's letters will be generated by JavaScript -->
                </div>
            </div>
            
            <div class="flex items-center justify-between gap-3 mb-4 flex-wrap">
             
                <div id="finishTurnContainer" class="hidden text-center">
                    <button id="finishTurnBtn" class="px-6 py-2 bg-gray-300 rounded-lg text-gray-800 font-medium text-sm hover:bg-gray-400">
                        סיים תור
                    </button>
                </div>

                
                <div id="turnIndicatorBanner" class="bg-blue-100 px-3 py-2 rounded-lg text-sm text-gray-800 flex-shrink-0 whitespace-nowrap">
                    <!-- Turn indicator text will be inserted here -->
                </div>
                <!-- Player Scores -->
                <div id="gameTitle" class="flex-1 text-sm text-center min-w-0">
                    <!-- Player names with scores will be inserted here -->
                </div>
                <button id="backToGamesFromGameBtn" class="px-3 py-2 bg-gray-200 rounded-lg text-gray-800 font-medium text-lg hover:bg-gray-300 flex-shrink-0">
                    ←
                </button>
                <!-- Turn Indicator Banner -->
              
            </div>


            <!-- Finish Turn Button (only shown when it's player's turn) -->
           
        </div>
    </div>
    
    <!-- Main application (ES module) -->
    <script type="module" src="src/main.js"></script>
</body>
</html>

